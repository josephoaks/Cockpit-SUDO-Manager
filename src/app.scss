/* =========================================================
 * Cockpit Sudo Manager â€“ PF6 Integration
 * ========================================================= */

/* Don't override Cockpit's base styles - work with them */
#app {
  height: 100%;
  padding: 1rem;
}

/* Ensure card fills available space */
.pf-v6-c-card {
  margin: 0;
  height: calc(100vh - 2rem); /* Fill viewport minus padding */
  display: flex;
  flex-direction: column;
}

.pf-v6-c-card__body {
  flex: 1;
  overflow: auto;
  min-height: 0;
}

/* -------------------------
 * Dropdown (Cockpit-safe, visible)
 * ------------------------- */
.sudo-dropdown {
  position: relative;
  display: inline-block;
}

.sudo-dropdown-toggle {
  background-color: var(--pf-v6-global--primary-color--100, #06c);
  color: var(--pf-v6-global--Color--light-100, #fff);
  border: none;
  padding: 0.375rem 0.75rem;
  border-radius: var(--pf-v6-global--BorderRadius--sm, 3px);
  cursor: pointer;
  font-size: var(--pf-v6-global--FontSize--sm, 0.875rem);
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;

  &:hover {
    background-color: var(--pf-v6-global--primary-color--200, #004080);
  }

  &:focus {
    outline: 2px solid var(--pf-v6-global--primary-color--100, #06c);
    outline-offset: 2px;
  }

  svg {
    fill: currentColor;
  }
}

.sudo-dropdown-menu {
  position: absolute;
  top: calc(100% + 0.25rem);
  right: 0;
  min-width: 12rem;
  background-color: var(--pf-v6-global--BackgroundColor--dark-200, #292e34);
  border: 1px solid var(--pf-v6-global--BorderColor--dark-100, #4f5255);
  border-radius: var(--pf-v6-global--BorderRadius--sm, 3px);
  box-shadow: var(--pf-v6-global--BoxShadow--lg, 0 0.5rem 1rem rgba(3, 3, 3, 0.16), 0 0 0.375rem rgba(3, 3, 3, 0.08));
  z-index: 5000;
  list-style: none;
  margin: 0;
  padding: 0.5rem 0;
}

.sudo-dropdown-item {
  width: 100%;
  padding: 0.5rem 1rem;
  background: transparent;
  color: var(--pf-v6-global--Color--light-100, #fff);
  border: none;
  text-align: left;
  cursor: pointer;
  font-size: var(--pf-v6-global--FontSize--sm, 0.875rem);
  transition: background-color 0.1s;

  &:hover {
    background-color: var(--pf-v6-global--BackgroundColor--dark-300, #3c4146);
  }

  &:focus {
    outline: none;
    background-color: var(--pf-v6-global--BackgroundColor--dark-300, #3c4146);
  }
}

/* -------------------------
 * Commands / aliases
 * ------------------------- */
.sudo-commands {
  font-family: var(--pf-v6-global--FontFamily--monospace, "Liberation Mono", monospace);
  font-size: 0.875rem;

  span + span::before {
    content: ", ";
  }
}

.sudo-alias {
  font-weight: var(--pf-v6-global--FontWeight--bold, 600);
  cursor: help;
  text-decoration: underline dotted;
  /* Inherit text color instead of forcing blue */
  
  &:hover {
    text-decoration: underline solid;
  }
}

/* -------------------------
 * Table enhancements
 * ------------------------- */
.pf-v6-c-table {
  tbody tr:hover {
    background-color: var(--pf-v6-global--BackgroundColor--dark-300, rgba(255, 255, 255, 0.07)) !important;
  }
}

/* -------------------------
 * Modal fixes for Cockpit iframe - AGGRESSIVE
 * ------------------------- */
.pf-v6-c-backdrop {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 9998 !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
}

.pf-v6-c-modal-box {
  position: fixed !important;
  z-index: 9999 !important;

  /* Force absolute center in viewport */
  top: 50% !important;
  left: 50% !important;
  right: auto !important;
  bottom: auto !important;
  transform: translate(-50%, -50%) !important;
  margin: 0 !important;

  /* Constrain size */
  width: 90vw !important;
  max-width: 600px !important;
  max-height: 80vh !important;

  /* Flexbox layout */
  display: flex !important;
  flex-direction: column !important;
}

/* Ensure all modal parts are visible */
.pf-v6-c-modal-box__header {
  flex-shrink: 0 !important;
  padding: 1rem !important;
}

.pf-v6-c-modal-box__body {
  flex: 1 1 auto !important;
  overflow-y: auto !important;
  padding: 0 !important;
  min-height: 0 !important;
}

.pf-v6-c-modal-box__footer {
  flex-shrink: 0 !important;
  padding: 1rem !important;
}

/* Ensure modal content wrapper doesn't interfere */
.pf-v6-c-modal-box__body > div {
  padding: 1rem !important;
}

/* -------------------------
 * Error alert styling
 * ------------------------- */
.pf-v6-c-alert {
  margin-bottom: 1rem;
}
